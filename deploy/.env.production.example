# ==============================
# cliproxy-access-manager (prod)
# ==============================
# Copy to .env and fill required values.
#
# Required values:
# - CLIPROXY_MGMT_BASE_URL
# - CLIPROXY_MGMT_KEY
# - APIM_HTTP_AUTH_TOKEN
#
# Telegram is optional. Keep TELEGRAM_BOT_TOKEN empty to disable bot.

# Upstream cliproxy management endpoint
CLIPROXY_MGMT_BASE_URL=http://127.0.0.1:8317
CLIPROXY_MGMT_KEY=CHANGE_ME_CLIPROXY_MANAGEMENT_KEY

# Image used by docker-compose.deploy.yml
APIM_IMAGE=moocher4097/cliproxy-access-manager:latest

# Sidecar HTTP API bind
APIM_HTTP_ADDR=0.0.0.0:8390

# Protect sidecar HTTP API (required in production)
APIM_HTTP_AUTH_TOKEN=CHANGE_ME_LONG_RANDOM_TOKEN

# Persistence
APIM_DATA_DIR=/data
APIM_DB_PATH=/data/apim.db

# Sync intervals
APIM_KEY_SYNC_INTERVAL=30s
APIM_USAGE_SYNC_INTERVAL=2m
APIM_RECOVERY_CHECK_INTERVAL=60s

# TLS behavior for cliproxy management endpoint
APIM_INSECURE_SKIP_TLS_VERIFY=false

# Optional log level (reserved)
APIM_LOG_LEVEL=info

# Telegram bot (optional)
TELEGRAM_BOT_TOKEN=
TELEGRAM_ALLOWED_CHAT_IDS=
TELEGRAM_ALLOWED_USER_IDS=
TELEGRAM_POLL_INTERVAL=3s

# Runtime proxy (optional)
HTTP_PROXY=
HTTPS_PROXY=
ALL_PROXY=
NO_PROXY=127.0.0.1,localhost,host.docker.internal

# Build-time Go module proxy (optional)
GOLANG_PROXY=https://proxy.golang.org,direct
